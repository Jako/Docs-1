# Сниппеты

У компонента единственный сниппет fmFiles.

## fmFiles

Сниппет предназначен для вывода списка файлов, прикрепленных к ресурсу.

# Поддержка pdoTools и шаблонизатора Fenom

::: warning
До версии 3.1.5-pl включительно компонент в своей работе использовал библиотеку [pdoTools](/components/pdotools/), а единственный чанк был написан с использованием шаблонизатора Fenom.
:::

Начиная с версия 3.2.0-pl компонент может работать как с использованием pdoTools (и шаблонизатора Fenom), так и с использованием стандартного парсера MODx.

Управление производится системной настройкой ```fileman_pdotools```:

* **Настройка включена и pdoTools установлен:**\
Сниппет fmFiles использует в своей работе только параметр `tpl` и единственный чанк, указанный в нем. В чанке можно (и нужно) использовать шаблонизатор Fenom.
* **Настройка выключена:**\
Сниппет fmFiles использует в своей работе только параметры `tplRow`, `tplGroup`, `tplWrapper`, `wrapIfEmpty` и указанные в них чанки. В чанках используется стандартный синтаксис MODx.

### Параметры

|   | Параметр         | По умолчанию        | Описание                                                                                                                                                                     |
|---|------------------|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   | tpl              | `tpl.FileMan.Files` | Единый чанк оформления результата работы, написан на шаблонизаторе Fenom. Этот параметр работает только при установленном pdoTools и включенной настройке "fileman_pdotools" |
|   | tplRow           | `tpl.FileMan.Row`   | Чанк для оформления строки с одним файлом (если настройка "fileman_pdotools" выключена). В качестве плейсхолдеров доступны все поля объекта fmFile.                          |
|   | tplGroup         | `tpl.FileMan.Group` | Чанк для оформления группы (если настройка "fileman_pdotools" выключена). Доступны плейсхолдеры [[+group]] и [[+output]].                                                    |
|   | tplWrapper       |                     | Чанк-обертка результата (если настройка "fileman_pdotools" выключена). Доступен плейсхолдер [[+output]].                                                                     |
|   | wrapIfEmpty      | `0`                 | Оборачивать ли пустой результат работы в tplWrapper (если файлов нет).                                                                                                       |
|   | sortBy           | `sort_order`        | Поле, по которому будут отсортированы файлы.                                                                                                                                 |
|   | sortDir          | `ASC`               | Направление сортировки, ASC или DESC.                                                                                                                                        |
|   | limit            | `0`                 | Ограничить кол-во результатов, по умолчанию 0 - выводить все.                                                                                                                |
|   | offset           | `0`                 | С какого элемента выводить файлы, используется при постраничном выводе результатов сниппетом pdoPage.                                                                        |
|   | totalVar         | `total`             | В плейсхолдер с таким названием будет установлено общее кол-во файлов при постраничном выводе.                                                                               |
|   | toPlaceholder    |                     | Результат работы будет сохранен в плейсхолдер, вместо вывода на страницу.                                                                                                    |
|   | ids              |                     | Позволяет указать список id файлов (через запятую) которые нужно вывести.                                                                                                    |
|   | resource         |                     | Id ресурса, с которым работаем, по умолчанию - текущий.                                                                                                                      |
|   | showGroups       | `1`                 | Показывать группы файлов.                                                                                                                                                    |
|   | makeUrl          | `1`                 | Если файлы нужно скачивать, то следует сформировать ссылки на них.                                                                                                           |
|   | privateUrl       | `0`                 | Можно форсировать private mode для всех файлов.                                                                                                                              |
|   | includeTimeStamp | `0`                 | Если нужно получить дату изменения файла на диске (будет доступна как timestamp).                                                                                            |
